<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Cours 01 : SHELL &amp; BASH Scripting # | University Projects and other Resources</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Cours 01 : SHELL &amp; BASH Scripting #" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Repo used to host &amp; quickly access resources, projects and other things Uni-related with GitHub pages" />
<meta property="og:description" content="Repo used to host &amp; quickly access resources, projects and other things Uni-related with GitHub pages" />
<link rel="canonical" href="http://localhost:4000/FBI-Notes/cours01_Shell.html" />
<meta property="og:url" content="http://localhost:4000/FBI-Notes/cours01_Shell.html" />
<meta property="og:site_name" content="University Projects and other Resources" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Cours 01 : SHELL &amp; BASH Scripting #" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Repo used to host &amp; quickly access resources, projects and other things Uni-related with GitHub pages","headline":"Cours 01 : SHELL &amp; BASH Scripting #","url":"http://localhost:4000/FBI-Notes/cours01_Shell.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" as="style" type="text/css" crossorigin>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=4ee45719ddd723b762aea7f3530eec73b937d7cd">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <a id="skip-to-content" href="#content">Skip to the content.</a>

    <header class="page-header" role="banner">
      <h1 class="project-name">Cours 01 : SHELL &amp; BASH Scripting #</h1>
      <h2 class="project-tagline">Repo used to host & quickly access resources, projects and other things Uni-related with GitHub pages</h2>
      
        <a href="https://github.com/David-Kyrat/David-Kyrat.github.io" class="btn">View on GitHub</a>
      
      
        <a href="https://github.com/David-Kyrat/David-Kyrat.github.io/zipball/gh-pages" class="btn">Download .zip</a>
        <a href="https://github.com/David-Kyrat/David-Kyrat.github.io/tarball/gh-pages" class="btn">Download .tar.gz</a>
      
    </header>

    <main id="content" class="main-content" role="main">
      
<h1 id="1-cours-01--shell--bash-scripting">1. Cours 01 : SHELL &amp; BASH Scripting</h1>

<!-- ===== -->
<ul>
  <li><a href="#1-cours-01--shell--bash-scripting">1. Cours 01 : SHELL &amp; BASH Scripting</a>
    <ul>
      <li><a href="#11-ls-arguments">1.1. ls arguments</a></li>
      <li>[1.2. Permissions <sup id="fnref:9" role="doc-noteref"><a href="#fn:9" class="footnote" rel="footnote">1</a></sup>](#12-permissions-9)</li>
      <li>[1.3. Removal <sup id="fnref:4" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">2</a></sup>](#13-removal-4)</li>
      <li>[1.4. Text Editors <sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup>](#14-text-editors-3)</li>
      <li><a href="#15-io-streams">1.5. I/O Streams</a>
        <ul>
          <li>[1.5.1. Ouput stream <sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">4</a></sup>](#151-ouput-stream-2)</li>
          <li>[1.5.2. Input Stream <sup id="fnref:5" role="doc-noteref"><a href="#fn:5" class="footnote" rel="footnote">5</a></sup>](#152-input-stream-5)</li>
          <li>[1.5.3. Error Stream <sup id="fnref:6" role="doc-noteref"><a href="#fn:6" class="footnote" rel="footnote">6</a></sup>](#153-error-stream-6)</li>
        </ul>
      </li>
      <li>[1.6. Pipes &amp; Tubes <sup id="fnref:7" role="doc-noteref"><a href="#fn:7" class="footnote" rel="footnote">7</a></sup>](#16-pipes–tubes-7)</li>
      <li>[1.7. GREP <sup id="fnref:8" role="doc-noteref"><a href="#fn:8" class="footnote" rel="footnote">8</a></sup>](#17-grep-8)
      - <a href="#1701-exo-récuperer-liste-unique-et-triée-de-mails-depuis-plusieurs-fichiers">1.7.0.1. Exo récuperer liste unique et triée de mails depuis plusieurs fichiers</a></li>
      <li><a href="#18-tips">1.8. Tips</a>
        <h2 id="11-ls-arguments">1.1. ls arguments</h2>
      </li>
    </ul>

    <p>ls cat9?.*</p>
  </li>
</ul>

<p><code class="language-plaintext highlighter-rouge">?</code> est utilisé pour remplacer 1 char, <code class="language-plaintext highlighter-rouge">cat9?</code> =&gt; Wildcard pour un seul char 
=&gt; match tous les files de la forme</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cat9 · c  (où `'c'`  est un seul charactère)

cat $file1, $file2...  &lt;small&gt; // prints concatenated content of all files passed as argument&lt;/small&gt;
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">/etc</code> contains all configurations files</p>

<hr />

<h2 id="12-permissions-">1.2. Permissions <sup id="fnref:9:1" role="doc-noteref"><a href="#fn:9" class="footnote" rel="footnote">1</a></sup></h2>

<p><code class="language-plaintext highlighter-rouge">drwxr-xr--</code> <code class="language-plaintext highlighter-rouge">==&gt;</code> <code class="language-plaintext highlighter-rouge">d | rwx | r-x | r - -</code></p>

<ul>
  <li>d =&gt; <em><strong>d</strong>irectory</em></li>
  <li>r =&gt; <em><strong>r</strong>ead     = <strong>4</strong></em></li>
  <li>w =&gt; <em><strong>w</strong>rite    = <strong>2</strong></em></li>
  <li>x =&gt; <em>e<strong>x</strong>ecute  = <strong>1</strong></em></li>
</ul>

<table>
  <thead>
    <tr>
      <th>FileType</th>
      <th>User</th>
      <th>Group</th>
      <th>Other</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">d - </code></td>
      <td><code class="language-plaintext highlighter-rouge">r w x</code></td>
      <td><code class="language-plaintext highlighter-rouge">r - x</code></td>
      <td><code class="language-plaintext highlighter-rouge">- - -</code></td>
    </tr>
    <tr>
      <td> </td>
      <td>4 2 1</td>
      <td>4 0 1</td>
      <td>0 0 0</td>
    </tr>
    <tr>
      <td> </td>
      <td>7</td>
      <td>5</td>
      <td>0</td>
    </tr>
  </tbody>
</table>

<p><em>each “tag” is controled/modifed/interpreted as a group of 3 octal value</em></p>
<h4> exemple: </h4>

<p>Here we have <code class="language-plaintext highlighter-rouge">750</code> (i.e. <code class="language-plaintext highlighter-rouge">chmod 750 $file</code> doesn’t change anything )</p>

<hr />

<h3> Exo modifier droits </h3>

<p><code class="language-plaintext highlighter-rouge">ls -l bird00.jpg</code>     <small> // prints: <code class="language-plaintext highlighter-rouge">-rwxrw-r--</code> </small></p>

<p><br /> <code class="language-plaintext highlighter-rouge">chmod 364 bird00.jpg</code>  (3 = 2:write + 1:execute ) (6: 4:read + 2:write) (4:read)</p>

<p><code class="language-plaintext highlighter-rouge">ls -l bird00.jpg</code>        <small> // prints: <code class="language-plaintext highlighter-rouge">--wxrw-r--  </code> </small></p>

<p><code class="language-plaintext highlighter-rouge">cat bird00.jpg</code> 	     <small> // prints: <code class="language-plaintext highlighter-rouge">cat: bird00.jpg: Permission denied</code> </small></p>

<p><em>Ou plus Simplement:</em></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chmod u±(r,w,x)  
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">u±(X_1, X_2, ..., X_n)</code>  <code class="language-plaintext highlighter-rouge">&lt;==&gt;</code> Add / remove Permission X1 or … Xn to user</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chmod a±(r, w, x)
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">u±(X_1, X_2, ..., X_n)</code> <code class="language-plaintext highlighter-rouge">&lt;==&gt;</code> Add / remove Permission X1 or … Xn to all</p>

<p>Copy try:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cp images/bird00.jpg backup/mybird.jpg  
cp: cannot open 'images/bird00.jpg' for reading: Permission denied  
</code></pre></div></div>

<p>Cannot Copy because don’t have read/write permission</p>

<p>— git clone https://gitlab.unige.ch/outils-info/bash.git</p>

<p>Test of Github colored code block:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">random</span>

<span class="k">class</span> <span class="nc">CardGame</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="s">""" a sample python class """</span>
    <span class="n">NB_CARDS</span> <span class="o">=</span> <span class="mi">32</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cards</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">cards</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">sample</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">NB_CARDS</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
        <span class="k">print</span> <span class="s">'ready to play'</span>
</code></pre></div></div>

<hr />

<h2 id="13-removal-">1.3. Removal <sup id="fnref:4:1" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">2</a></sup></h2>

<p>Even if <code class="language-plaintext highlighter-rouge">images/bird00.jpg</code> is protected / we don’t have read / write permission we can delete it.<br />
<code class="language-plaintext highlighter-rouge">==&gt;</code> will show :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash/ressources/backup$ rm bird00.jpg
  &gt; rm: remove write-protected regular file 'bird00.jpg'?
</code></pre></div></div>

<p>How to remove delete permissions ?</p>

<p><code class="language-plaintext highlighter-rouge">==&gt;</code> Change write permission of containing folder.</p>

<hr />

<h2 id="14-text-editors-">1.4. Text Editors <sup id="fnref:3:1" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup></h2>

<p>used nano.</p>

<hr />

<h2 id="15-io-streams">1.5. I/O Streams</h2>
<h3 id="151-ouput-stream-">1.5.1. Ouput stream <sup id="fnref:2:1" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">4</a></sup></h3>

<p>Utiliser les outputs de process/commandes comme inputs d’autres. E.g.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ echo "I love bash" &gt; taut.txt
$ cat taut.txt 
   &gt; I love bash  
</code></pre></div></div>

<p>On a piped l’output de echo à taut.txt
Autres exemples:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ls images/ -l &gt; result  &lt;small&gt; `result` contains a list of all files in `images/` &lt;/small&gt;

$ ls images/ -l &gt; result
$ cat taut.txt &gt; result  &lt;small&gt;  `result` contains only the content of `taut.txt` &lt;/small&gt;
</code></pre></div></div>

<p>I.e. [<em>cmd output</em>] <code class="language-plaintext highlighter-rouge">&gt;</code> [<em>some file</em>] is used to pipe smth to a file/cmd <em><strong>replacing</strong></em> the old content.</p>

<p>And [<em>cmd output</em>] <code class="language-plaintext highlighter-rouge">&gt;&gt;</code> [<em>some file</em>] is used to pipe smth to a file/cmd <em><strong>appending</strong></em> that smth to the old content.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ls images/ -l &gt;&gt; result
$ cat taut.txt &gt;&gt; result &lt;small&gt;  `result` contains the content of `taut.txt` appended to the list of files &lt;/small&gt;
</code></pre></div></div>

<p><img src="/FBI-Notes/img/outputStream_bash.png" alt="outputStream_bash" /></p>

<hr />

<h3 id="152-input-stream-">1.5.2. Input Stream <sup id="fnref:5:1" role="doc-noteref"><a href="#fn:5" class="footnote" rel="footnote">5</a></sup></h3>

<p>When calling <code class="language-plaintext highlighter-rouge">cat</code> without arguments, <code class="language-plaintext highlighter-rouge">cat</code> takes the <em>standard input stream</em> (i.e. the keyboard) as arguments</p>

<p><code class="language-plaintext highlighter-rouge">ctrl + D</code> indicates the EOF when inputing data to an input stream.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cat livre.txt
</code></pre></div></div>

<p>calls cat command to see content of livre.txt i.e.</p>

<pre><code class="language-C">fopen("livre.txt", "r");
	fgets("livre.txt", ..., 0);
	fgets("livre.txt", ..., 1);
	...
	fgets("livre.txt", ..., n);
fclose(livre.txt);

</code></pre>

<p>Something that gives the exact same output, but does something radically different</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cat &lt; livre.txt
</code></pre></div></div>

<p>calls cat command without arguments <code class="language-plaintext highlighter-rouge">==&gt;</code> cat then waits for argument from standard input stream <code class="language-plaintext highlighter-rouge">==&gt;</code> receive the file <code class="language-plaintext highlighter-rouge">livre.txt</code> as input and parses it. i.e.</p>

<pre><code class="language-C">#include &lt;stdio.h&gt;
//args is empty `==&gt;`

args* = stdin.input;
return args;

</code></pre>

<p><img src="/FBI-Notes/img/input_stream_bash.png" alt="inputStream_bash" /></p>

<hr />

<h3 id="153-error-stream-">1.5.3. Error Stream <sup id="fnref:6:1" role="doc-noteref"><a href="#fn:6" class="footnote" rel="footnote">6</a></sup></h3>

<p><img src="/FBI-Notes/img/errorStream_bash.png" alt="errorStream_bash" /></p>

<hr />

<h2 id="16-pipes--tubes-">1.6. Pipes &amp; Tubes <sup id="fnref:7:1" role="doc-noteref"><a href="#fn:7" class="footnote" rel="footnote">7</a></sup></h2>
<p><img src="/FBI-Notes/img/Screenshot_20211108_175222.png" alt="Pipes" /></p>

<hr />

<h2 id="17-grep-">1.7. GREP <sup id="fnref:8:1" role="doc-noteref"><a href="#fn:8" class="footnote" rel="footnote">8</a></sup></h2>

<p>  <code class="language-plaintext highlighter-rouge">grep</code> <strong><em>pattern</em>  <em>fichier</em></strong>
cherche et affiche les lignes du fichier qui contiennent un pattern (e.g. un mot).</p>

<p>  <code class="language-plaintext highlighter-rouge">grep</code> <strong><em>pattern</em></strong>
cherche le pattern dans l’entrée standard et affiche les lignes le contenant</p>

<p>Pas mettre de <code class="language-plaintext highlighter-rouge">*w*</code> quand on cherche tout ce qui contient le mot <code class="language-plaintext highlighter-rouge">w</code>.
I.e.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ls images/ -l | grep cat 
</code></pre></div></div>

<p>Cherche déjà tous les fichier/dossiers dans images dont le nom match <code class="language-plaintext highlighter-rouge">*cat*</code> i.e. qui contient cat.</p>

<h4 id="1701-exo-récuperer-liste-unique-et-triée-de-mails-depuis-plusieurs-fichiers">1.7.0.1. Exo récuperer liste unique et triée de mails depuis plusieurs fichiers</h4>

<p><img src="/FBI-Notes/img/get_mails_unique_sorted_bash.png" alt="getMail_exo" /></p>

<hr />

<h2 id="18-tips">1.8. Tips</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>noahm@noahm-HP-Spectre:~$ ls .*history* -laR | grep bash
-rw------- 1 noahm noahm 34593 Nov  9 15:44 .bash_history

noahm@noahm-HP-Spectre:~$ ls .*history* -laR 
-rw------- 1 noahm noahm 34593 Nov  9 15:44 .bash_history
-rw-rw-r-- 1 noahm noahm   141 Nov  7 21:22 .dotty_history
-rw------- 1 noahm noahm   176 Nov  8 21:05 .node_repl_history
-rw------- 1 noahm noahm   143 Nov  8 21:38 .python_history
-rw------- 1 noahm noahm     0 Nov  7 20:58 .scala_history
</code></pre></div></div>

<p>Mais ce truc marche pas (pk ?)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>noahm@noahm-HP-Spectre:~$ ls *.*history* -laR 
ls: cannot access '*.*history*': No such file or directory

noahm@noahm-HP-Spectre:~$ 
</code></pre></div></div>

<p><br /> 
<br />
<!-- --------------------------------------------------------------------------- --></p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:9" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/shell/#/permissions-1">presentations/outils-info/shell/permissions</a> <a href="#fnref:9" class="reversefootnote" role="doc-backlink">&#8617;</a> <a href="#fnref:9:1" class="reversefootnote" role="doc-backlink">&#8617;<sup>2</sup></a></p>
    </li>
    <li id="fn:4" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/shell/#/5/3">presentations/outils-info/shell/supression</a> <a href="#fnref:4" class="reversefootnote" role="doc-backlink">&#8617;</a> <a href="#fnref:4:1" class="reversefootnote" role="doc-backlink">&#8617;<sup>2</sup></a></p>
    </li>
    <li id="fn:3" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/shell/#/5/6">presentations/outils-info/shell/editer_un_fichier</a> <a href="#fnref:3" class="reversefootnote" role="doc-backlink">&#8617;</a> <a href="#fnref:3:1" class="reversefootnote" role="doc-backlink">&#8617;<sup>2</sup></a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/shell/#/6" title="Pipes">presentations/outils-info/shell/flux_de_sorties</a> <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a> <a href="#fnref:2:1" class="reversefootnote" role="doc-backlink">&#8617;<sup>2</sup></a></p>
    </li>
    <li id="fn:5" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/shell/#/6/3/1">presentations/outils-info/shell/flux_d’entrées</a> <a href="#fnref:5" class="reversefootnote" role="doc-backlink">&#8617;</a> <a href="#fnref:5:1" class="reversefootnote" role="doc-backlink">&#8617;<sup>2</sup></a></p>
    </li>
    <li id="fn:6" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/shell/#/6/5">presentations/outils-info/shell/flux_d’erreurs</a> <a href="#fnref:6" class="reversefootnote" role="doc-backlink">&#8617;</a> <a href="#fnref:6:1" class="reversefootnote" role="doc-backlink">&#8617;<sup>2</sup></a></p>
    </li>
    <li id="fn:7" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/shell/#/6/7">presentations/outils-info/shell/pipes</a> <a href="#fnref:7" class="reversefootnote" role="doc-backlink">&#8617;</a> <a href="#fnref:7:1" class="reversefootnote" role="doc-backlink">&#8617;<sup>2</sup></a></p>
    </li>
    <li id="fn:8" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/shell/#/6/8">presentations/outils-info/shell/grep</a> <a href="#fnref:8" class="reversefootnote" role="doc-backlink">&#8617;</a> <a href="#fnref:8:1" class="reversefootnote" role="doc-backlink">&#8617;<sup>2</sup></a></p>
    </li>
  </ol>
</div>


      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="https://github.com/David-Kyrat/David-Kyrat.github.io">David-Kyrat.github.io</a> is maintained by <a href="https://github.com/David-Kyrat">David-Kyrat</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>
  </body>
</html>
