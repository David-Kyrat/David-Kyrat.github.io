<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Cours 04 - GIT 02 - Branches &amp; Merges # | University Projects and other Resources</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Cours 04 - GIT 02 - Branches &amp; Merges #" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Repo used to host &amp; quickly access resources, projects and other things Uni-related with GitHub pages" />
<meta property="og:description" content="Repo used to host &amp; quickly access resources, projects and other things Uni-related with GitHub pages" />
<link rel="canonical" href="http://localhost:4000/FBI-Notes/cours04_GIT-02.html" />
<meta property="og:url" content="http://localhost:4000/FBI-Notes/cours04_GIT-02.html" />
<meta property="og:site_name" content="University Projects and other Resources" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Cours 04 - GIT 02 - Branches &amp; Merges #" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Repo used to host &amp; quickly access resources, projects and other things Uni-related with GitHub pages","headline":"Cours 04 - GIT 02 - Branches &amp; Merges #","url":"http://localhost:4000/FBI-Notes/cours04_GIT-02.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" as="style" type="text/css" crossorigin>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=e34b37e7a1cffd021608cd0908c9d3825355d843">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <a id="skip-to-content" href="#content">Skip to the content.</a>

    <header class="page-header" role="banner">
      <h1 class="project-name">Cours 04 - GIT 02 - Branches &amp; Merges  #</h1>
      <h2 class="project-tagline">Repo used to host & quickly access resources, projects and other things Uni-related with GitHub pages</h2>
      
        <a href="https://github.com/David-Kyrat/David-Kyrat.github.io" class="btn">View on GitHub</a>
      
      
        <a href="https://github.com/David-Kyrat/David-Kyrat.github.io/zipball/gh-pages" class="btn">Download .zip</a>
        <a href="https://github.com/David-Kyrat/David-Kyrat.github.io/tarball/gh-pages" class="btn">Download .tar.gz</a>
      
    </header>

    <main id="content" class="main-content" role="main">
      <h1 id="cours-04---git-02---branches--merges-">Cours 04 - GIT 02 - Branches &amp; Merges <sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup></h1>

<h3 id="notes">Notes</h3>

<p>==&gt; <code class="language-plaintext highlighter-rouge">HEAD</code> dépend du commit pas des modifs/add</p>

<p>==&gt; <code class="language-plaintext highlighter-rouge">pull</code> = <code class="language-plaintext highlighter-rouge">fetch</code> + <code class="language-plaintext highlighter-rouge">merge</code></p>

<h3 id="exos-branches">Exos Branches</h3>

<p>=&gt; modif puis checkout sans git add, discard pas complètement, fichier existe mais “pas sur une seule branche” c’est <strong>seulement quand</strong> on va
<strong>commit</strong>
que le <em>“fichier avec les modifs”</em> seront ajoutés uniquement <strong>sur</strong> la <strong>branche où</strong> il a été <strong>commit</strong></p>

<p>==&gt; Branche dans le directory est lien vers le dernier commit de cette branche ==&gt; comme pointer en C</p>

<p><br /></p>

<p><img src="/FBI-Notes/img/Screenshot_20211110_154115.png" alt="Branch_exo1_2" /><br />
==&gt; Added ordered-list in sandwich.txt on branch <code class="language-plaintext highlighter-rouge">ordered-list-recipe</code> (and git add)</p>

<p>==&gt; Checked out on branch <code class="language-plaintext highlighter-rouge">Master</code> (without committing)</p>

<p><img src="/FBI-Notes/img/Screenshot_20211110_154431.png" alt="Branch_exo1_3" /></p>

<p>And on master ==&gt; added new file pappet.txt. (git add)</p>

<p>So now as <code class="language-plaintext highlighter-rouge">staged changes</code> (dans l’index) we have :</p>

<ol>
  <li>ol in sandwich.txt on branch <code class="language-plaintext highlighter-rouge">ordered-list-recipe</code></li>
  <li>added pappet.txt on branch <code class="language-plaintext highlighter-rouge">master</code></li>
</ol>

<blockquote>

</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit -m "created pappet.txt"
</code></pre></div></div>

<p>==&gt; Commit on master ==&gt; Branch diverged.</p>

<p><br /></p>

<p>Weird fact : we changed sandwich.txt and git added it on branch <strong>ol-recipe</strong>, 
and yet <code class="language-plaintext highlighter-rouge">git status</code> on <strong>master</strong> tells us that it was modified &amp; added and that we have to commit it even though, <em>the 
changes didn’t occur on this branch</em>.</p>

<p>It’s even worse than that. Since we committed the changes on branch master, the <strong>changement we made</strong> in the working directory on branch 
<code class="language-plaintext highlighter-rouge">ordered-list-recipe</code> <strong><em>moved to master</em></strong>.</p>

<p>I.e. the modif was <em>“confirmed”</em> in <code class="language-plaintext highlighter-rouge">master</code> and “<em>disappeared</em>” in <code class="language-plaintext highlighter-rouge">ordered-list-recipe</code> (reverted back to its old state).</p>

<p>This was the content of the file before: (on ol-recipe)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- ingrédient 1
- ingrédient 2
- ingrédient 3

- cuisson 3 minutes
</code></pre></div></div>

<p>After :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 ingrédient 1
2 ingrédient 2
3 ingrédient 3

- cuisson 3 minutes
</code></pre></div></div>

<p>Now git add… :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add sandwich.txt
git checkout master
nvim pappet.txt
git add pappet.txt
git commit -m "created pappet.txt"

git checkout ordered-list-recipe
</code></pre></div></div>

<p>And this is the “<em>new</em>” content of <code class="language-plaintext highlighter-rouge">sandwich.txt</code> on <code class="language-plaintext highlighter-rouge">ordered-list-recipe</code>:</p>

<p><img src="/FBI-Notes/img/Screenshot_20211110_155704.png" alt="diverged_sandwich_content" /></p>

<p>changes were <strong><em>transferred</em></strong> / <strong><em>assigned to</em></strong> branch <strong><code class="language-plaintext highlighter-rouge">master</code></strong>.</p>

<p><br /></p>

<p><img src="/FBI-Notes/img/Screenshot_20211110_160523.png" alt="Branch_exo1_5" /></p>

<p>Graph de comment la branche ordered-list-recipe a divergé de master.</p>

<p><em>Check “à quoi a été link” le head</em> i.e. ce qu’il y a dans <code class="language-plaintext highlighter-rouge">(HEAD -&gt; [Nom de Branch])</code>,</p>

<p>message après le commit hash: <code class="language-plaintext highlighter-rouge">* commit d73568da9e62934d4820fcfecfd4bde33f87e44b  ==&gt; (master) &lt;==</code></p>

<p><br /></p>

<hr />

<p><br /></p>

<h4 id="plus-dexemples">Plus d’exemples:</h4>

<p>Additional exemples on “modifs that moved with commits” :</p>

<p><img src="/FBI-Notes/img/Screenshot_20211110_202027.png" alt="modifs_moved_with_commit_1" /></p>

<p><img src="/FBI-Notes/img/Screenshot_20211110_202700.png" alt="modifs_moved_with_commit_2" /></p>

<p><img src="/FBI-Notes/img/Screenshot_20211110_203515.png" alt="modifs_moved_with_commit_3" /></p>

<p><img src="/FBI-Notes/img/Screenshot_20211110_203648.png" alt="modifs_moved_with_commit_4" /></p>

<p>Switched from ordered-list to unordered-list on branch <code class="language-plaintext highlighter-rouge">ul-recipe</code>.<br />
then committed the change on <code class="language-plaintext highlighter-rouge">master</code>.<br />
Then the <code class="language-plaintext highlighter-rouge">master</code> took the modifications and <code class="language-plaintext highlighter-rouge">ul-recipe</code> was reverted back to its old state.</p>

<p><br /></p>

<p>(<code class="language-plaintext highlighter-rouge">*** See below</code>)</p>

<p><br /></p>

<hr />

<p><br /></p>

<h2 id="checkout-plus-dinfos-">Checkout plus d’infos <sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup></h2>

<p><br /></p>

<hr />

<p><br /></p>

<h2 id="git-merge-">Git Merge <sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup></h2>

<p><br /></p>

<h4 id="merge---exo">Merge - Exo</h4>

<p><img src="/FBI-Notes/img/Screenshot_20211110_164333.png" alt="merge_exo1_1" /></p>

<p><br /></p>

<p><img src="/FBI-Notes/img/Screenshot_20211110_164333.png" alt="merge_exo_1_2" /></p>

<p>Dans nvim: (Plus de détail sur comment ça marche dans la partie 04)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
1 ingrédient 1
2 ingrédient 2
3 ingrédient 3
=======
- ingrédient 1
- ingrédient 2
- ingrédient 3
&gt;&gt;&gt;&gt;&gt;&gt;&gt; 

- cuisson 3 minutes
</code></pre></div></div>

<p>Conflits ont été fix via nvim, merge peut se conclure.</p>

<p><br /></p>

<p><img src="/FBI-Notes/img/Screenshot_20211110_164625.png" alt="merge_exo1_3" /></p>

<p>On voit que la branche <code class="language-plaintext highlighter-rouge">ordered-list-recipe</code> à rejoint la branche master et les 2 convergent vers le même point.</p>

<p><br /></p>

<hr />

<p><br /></p>

<h3 id="merger-des-modifs-complexes-">Merger des modifs Complexes <sup id="fnref:4" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">4</a></sup></h3>

<p>C’est le <code class="language-plaintext highlighter-rouge">=======</code> qui indique les différentes versions / différences du fichier ainsi que les conflits.</p>

<pre><code class="language-Sh">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
Sel
======= # &lt;== indique fin de la version du fichier qu'il y avait dans le He sur master avant
Noah Munz

&gt;&gt;&gt;&gt;&gt;&gt;&gt; auteur # &lt;== indique la branche qu'on a merge qui a provoqué les conflits
Recette Pappet Vaudois
======================= 

- ingrédient 1
- ingrédient 2
- ingrédient 3
- ingrédient 4
</code></pre>

<p><br /></p>

<h4 id="exos">Exos</h4>

<p><img src="./img/Screenshot_20211110_170150.png" alt="Conflit_volontaires_pour_vscode" title="Conflit_volontaires_pour_vscode" /></p>

<p><img src="./img/Screenshot_20211110_170537.png" alt="VSCode gestion conflits" title="VSCode gestion conflits" /></p>

<p><br /></p>

<p><em>“Accept current changes”</em> veut dire ==&gt; accepter la version du <code class="language-plaintext highlighter-rouge">HEAD</code> et discard le reste (current &lt;=&gt; HEAD)</p>

<p><em>“Accept Incoming changes”</em> veut dire ==&gt; accepter les changements qui viennent (i.e. pas là où on est, pas le <code class="language-plaintext highlighter-rouge">HEAD</code>)</p>

<hr />

<p>==&gt; Resolved</p>

<p><img src="./img/Screenshot_20211110_170927.png" alt="Resolved_Conflicts" title="Resolved_Conflicts" /></p>

<p><br /></p>

<p><img src="./img/Screenshot_20211110_171228.png" alt="Graph-git-log" title="Graph-git-log" /></p>

<p><em>Graph résumé de la résolution des 2 merges &amp; divergences en entier.</em></p>

<hr />

<p><br /></p>

<h2 id="remote-">Remote <sup id="fnref:5" role="doc-noteref"><a href="#fn:5" class="footnote" rel="footnote">5</a></sup></h2>

<p>Push, Pull request, clone, Fork, Git Workflow etc…</p>

<p>==&gt; Pour pouvoir pull/push en secure il faut le faire ssh.</p>

<p><br /></p>

<h3 id="connexion-à-gitlab--serveur-cui-via-ssh-">Connexion à GitLab / Serveur CUI via SSH <sup id="fnref:6" role="doc-noteref"><a href="#fn:6" class="footnote" rel="footnote">6</a></sup></h3>

<p><img src="/FBI-Notes/img/Screenshot_20211110_172828.png" alt="ssh_1" />
<br /></p>

<p><img src="./img/Screenshot_20211110_174133.png" alt="GitLab_ssh" title="GitLab_ssh" /></p>

<p><br /></p>

<p><img src="./img/Screenshot_20211110_173550.png" alt="GitLab_ssh_done" title="GitLab_ssh_done" /></p>

<hr />

<h4 id="création-dun-repo">Création d’un Repo</h4>

<p>Create repo, un peu comme sur github mais en passant par SSH:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Clone WITH SSH !!
</code></pre></div></div>

<p>==&gt; <code class="language-plaintext highlighter-rouge">add remote</code> :</p>

<p><img src="./img/Screenshot_20211110_175841.png" alt="add_remote fail" title="add_remote fail" /></p>

<p><code class="language-plaintext highlighter-rouge">Permission denied</code> ! ==&gt; Quand on réessaye en renommant les clés avec leurs noms par défaut, ca marche</p>

<p>==&gt; <strong><em>PAS MODIFIER LE NOM DE LA CLÉ SSH !!</em></strong></p>

<p><br /></p>

<p><img src="./img/Screenshot_20211110_180050.png" alt="ssh_auth_success" title="ssh_auth_success" /></p>

<p>Then:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>noahm@noahm-HP-Spectre:~/Documents/FBI/GIT/recettes$ : (master) git status
	&gt; On branch master
	&gt; Your branch is up to date with 'origin/master'.

	&gt; nothing to commit, working tree clean
noahm@noahm-HP-Spectre:~/Documents/FBI/GIT/recettes$ : (master)
</code></pre></div></div>

<p><br /></p>

<hr />

<h1 id="cours-05---git---fork-">Cours 05 - GIT - Fork <sup id="fnref:7" role="doc-noteref"><a href="#fn:7" class="footnote" rel="footnote">7</a></sup></h1>

<p>En ayant déjà clické sur <code class="language-plaintext highlighter-rouge">fork</code> sur gitlab ==&gt; Repo qu’on fork est déjà configuré donc on a juste plus qu’à le <code class="language-plaintext highlighter-rouge">clone</code> (ssh).</p>

<p>En effet, après avoir fait:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone git@gitlab.unige.ch:Noah.Munz/recette-adrien_d.git
</code></pre></div></div>

<p>==&gt; Tentative de <code class="language-plaintext highlighter-rouge">remote add origin</code> mais git nous dit que c’est déjà configuré.</p>

<p><img src="/FBI-Notes/img/Screenshot_20211111_142452.png" alt="fork_remote_dejaConfig" /></p>

<p><br /></p>

<p><br /></p>

<!-- --------------------------------------- -->

<hr />

<p><br />
<br /></p>

<hr />

<p><br /></p>

<p><br /></p>

<p><br /></p>

<p>(<code class="language-plaintext highlighter-rouge">***</code>)</p>

<h3 id="further-testing">Further Testing</h3>
<p><em>Partie pas “fact-checked” par prof.</em></p>

<p>–</p>

<p>Quand on est allé sur branch ul-recipe pour voir que les diffs ont yeet vers master quand on a commit dessus.<br />
=&gt; git status donne:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Documents/FBI/GIT/recettes$ : (ul-recipe) git status
	&gt; On branch ul-recipe
	&gt; nothing to commit, working tree clean
</code></pre></div></div>

<p>Says clean but when checked out on master again</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Documents/FBI/GIT/recettes$ : (ul-recipe) git checkout
~/Documents/FBI/GIT/recettes$ : (ul-recipe) git checkout master 
	
	&gt; Switched to branch 'master'
	&gt; Your branch is ahead of 'origin/master' by 1 commit.
  		&gt; (use "git push" to publish your local commits)
</code></pre></div></div>

<p>Need to push ?? Is it because of misstype ? ==&gt; because entered <code class="language-plaintext highlighter-rouge">git checkout</code> sans rien derrière ?</p>

<p>Non local rep a été modifié (on a commit) et on pas encore push donc on est juste en avance sur la remote c’est tout.</p>

<p>–</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>noahm@noahm-HP-Spectre:~/Documents/FBI/GIT/recettes$ : (master) git merge ul-recipe 
	Already up to date.
</code></pre></div></div>

<p>Alors que content of sandiwch in master is:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>noahm@noahm-HP-Spectre:~/Documents/FBI/GIT/recettes$ : (master) cat sandwich.txt 
	Noah Munz

	// COMME ON A COMMIT SUR MASTER, SANDWICH.TXT SUR BRANCH 
	ORDERED-LIST A DIVERGÉ ET A PAS PRIS LES CHANGEMENTS !

	- ingrédient 1
	- ingrédient 2
	- ingrédient 3

	- cuisson 3 minutes
</code></pre></div></div>

<p>And sandwich in ul-recipe is:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>noahm@noahm-HP-Spectre:~/Documents/FBI/GIT/recettes$ : (ul-recipe) cat sandwich.txt 
	Noah Munz

	// COMME ON A COMMIT SUR MASTER, SANDWICH.TXT SUR BRANCH 
	ORDERED-LIST A DIVERGÉ ET A PAS PRIS LES CHANGEMENTS !

	1 ingrédient 1
	2 ingrédient 2
	3 ingrédient 3

	- cuisson 3 minutes
</code></pre></div></div>

<p>Pourquoi on peut pas merge ul-recipe dans master ?</p>

<p>==&gt; HEAD a pas bougé :</p>

<p><img src="/FBI-Notes/img/Screenshot_20211110_215731.png" alt="graph_log_head_bouge_pas" /></p>

<h4 id="origin--remote-just-push">ORIGIN &lt;=&gt; REMOTE, just push!</h4>

<p>try <code class="language-plaintext highlighter-rouge">checkout origin/master</code> and not <code class="language-plaintext highlighter-rouge">just master</code>
and :</p>

<p><img src="/FBI-Notes/img/Screenshot_20211110_220045.png" alt="detached_mode" /></p>

<p>origin/master était bien au stad d’avant. On est maintenant en detached (<code class="language-plaintext highlighter-rouge">HEAD</code> est plus à la fin)</p>

<p><img src="./img/Screenshot_20211110_220419.png" alt="branches" title="Optional title" /></p>

<p>–</p>

<p><br /></p>

<p><img src="/FBI-Notes/img/Screenshot_20211110_220947.png" alt="head_moved" /></p>

<p>Just by doing</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ul-recipe ==&gt; master ==&gt; "origin/master ?" ==&gt; master 
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">HEAD</code> moved (now at commit  “test to see…”), why ?</p>

<p><em>Hypothèse:</em> maintenant on peut merge.</p>

<p>==&gt; Nope.</p>

<p>Car il considère que la version avec les tirets est la plus récente et que “la branche a déjà été merge” i.e. 
que le purpose de la création de la branche a été fulfilled.</p>

<p><br /></p>

<hr />

<p><br /></p>

<p><br /></p>

<p><br /></p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/git/#/4/1">Branches</a> <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/git/#/4/7">Checkout</a> <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:3" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/git/#/4/10">Merge</a> <a href="#fnref:3" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:4" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/git/#/4/12">Merge-Complexe</a> <a href="#fnref:4" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:5" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/git/#/5">Remote</a> <a href="#fnref:5" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:6" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/git/#/5/2">GitLab-SSH</a> <a href="#fnref:6" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:7" role="doc-endnote">
      <p><a href="https://cui.unige.ch/~chanel/prez/presentations/outils-info/git/#/5/4">Fork</a> <a href="#fnref:7" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>


      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="https://github.com/David-Kyrat/David-Kyrat.github.io">David-Kyrat.github.io</a> is maintained by <a href="https://github.com/David-Kyrat">David-Kyrat</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>
  </body>
</html>
